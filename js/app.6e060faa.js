(function(e){function n(n){for(var a,s,c=n[0],o=n[1],g=n[2],m=0,p=[];m<c.length;m++)s=c[m],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);l&&l(n);while(p.length)p.shift()();return r.push.apply(r,g||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],a=!0,c=1;c<t.length;c++){var o=t[c];0!==i[o]&&(a=!1)}a&&(r.splice(n--,1),e=s(s.s=t[0]))}return e}var a={},i={app:0},r=[];function s(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=a,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)s.d(t,a,function(n){return e[n]}.bind(null,a));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/Festival-Avatar/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=n,c=c.slice();for(var g=0;g<c.length;g++)n(c[g]);var l=o;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"0074":function(e,n,t){},"034f":function(e,n,t){"use strict";var a=t("85ec"),i=t.n(a);i.a},1:function(e,n){},2:function(e,n){},3:function(e,n){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a,i=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("h3",[e._v("节日头像生成器")]),t("Main")],1)},s=[],c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"hello"},[t("div",{staticClass:"canvas-warp"},[t("canvas",{ref:"canvas",attrs:{id:"canvas"}})]),t("van-uploader",{directives:[{name:"show",rawName:"v-show",value:e.uploadImgBtn,expression:"uploadImgBtn"}],staticClass:"uploader",attrs:{"after-read":e.onChange,"image-fit":"cover"}},[t("van-button",{staticClass:"uploader-btn",attrs:{plain:"",icon:"photo",color:"#222"}},[e._v("上传图片")])],1),t("van-popup",{staticClass:"save-popup",style:{width:"80%"},attrs:{closeable:""},model:{value:e.saveShow,callback:function(n){e.saveShow=n},expression:"saveShow"}},[e._v("长按或右键保存图片！"),t("br"),t("br"),t("img",{attrs:{src:e.saveImgUrl,alt:""}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showBtnBar,expression:"showBtnBar"}],staticClass:"btn-bar"},[t("van-button",{attrs:{icon:"/img/save.png",color:"#212121"},on:{click:e.saveImg}}),t("van-button",{attrs:{icon:"/img/reset.png",color:"#212121"},on:{click:e.reset}}),t("van-button",{attrs:{icon:"/img/lock.png",color:"#212121"},on:{click:e.lockObj}}),t("van-button",{attrs:{icon:"/img/jiesuo.png",color:"#212121"},on:{click:e.unlockObj}}),t("van-button",{attrs:{icon:"/img/remove.png",color:"#212121"},on:{click:e.removeObj}})],1),t("van-tabs",{staticClass:"pic-list"},e._l(e.material,(function(n){return t("van-tab",{key:n.title,attrs:{title:n.title}},[t("van-grid",{attrs:{"column-num":5,gutter:10,clickable:!0,square:!0}},e._l(n.img,(function(a,i){return t("van-grid-item",{key:n.title+i},[t("img",{attrs:{id:"my-image",src:a},on:{click:e.addImg}})])})),1)],1)})),1)],1)},o=[],g=(t("b0c0"),t("ade3")),l=(t("0ec5"),t("21ab")),m=(t("3df5"),t("2830")),p=(t("bda7"),t("5e46")),u=(t("da3c"),t("0b33")),h=(t("9a83"),t("f564")),v=(t("e930"),t("8f80")),d=(t("8a58"),t("e41f")),f=(t("66b9"),t("b650")),b=t("7a94"),w={name:"app",components:(a={},Object(g["a"])(a,f["a"].name,f["a"]),Object(g["a"])(a,d["a"].name,d["a"]),Object(g["a"])(a,v["a"].name,v["a"]),Object(g["a"])(a,h["a"].name,h["a"]),Object(g["a"])(a,u["a"].name,u["a"]),Object(g["a"])(a,p["a"].name,p["a"]),Object(g["a"])(a,m["a"].name,m["a"]),Object(g["a"])(a,l["a"].name,l["a"]),a),data:function(){return{canvas:null,material:[{title:"圣诞",img:["/img/christmes/1.png","/img/christmes/2.png","/img/christmes/3.png","/img/christmes/4.png","/img/christmes/5.png","/img/christmes/6.png","/img/christmes/7.png","/img/christmes/8.png","/img/christmes/9.png","/img/christmes/10.png","/img/christmes/11.png","/img/christmes/12.png","/img/christmes/13.png","/img/christmes/14.png","/img/christmes/15.png","/img/christmes/16.png","/img/christmes/17.png","/img/christmes/18.png","/img/christmes/19.png","/img/christmes/20.png","/img/christmes/21.png","/img/christmes/22.png","/img/christmes/23.png","/img/christmes/24.png","/img/christmes/25.png","/img/christmes/26.png","/img/christmes/27.png"]},{title:"新年",img:["/img/newyear/1.png","/img/newyear/2.png","/img/newyear/3.png","/img/newyear/4.png","/img/newyear/5.png","/img/newyear/6.png","/img/newyear/7.png","/img/newyear/8.png","/img/newyear/9.png","/img/newyear/10.png","/img/newyear/11.png","/img/newyear/12.png","/img/newyear/13.png","/img/newyear/14.png","/img/newyear/15.png","/img/newyear/16.png","/img/newyear/17.png","/img/newyear/18.png","/img/newyear/19.png","/img/newyear/20.png","/img/newyear/21.png","/img/newyear/22.png"]}],uploadImgBtn:!0,Uploaded:!1,saveShow:!1,saveImgUrl:"",showBtnBar:!1}},mounted:function(){this.initCanvas()},computed:{canvasWidth:function(){return window.innerWidth},canvasHeight:function(){return window.innerHeight}},methods:{initCanvas:function(){this.canvas=new b["fabric"].Canvas("canvas",{backgroundColor:"#eee",preserveObjectStacking:!0,devicePixelRatio:!0}),this.canvasWidth<this.canvasHeight?(this.canvas.setWidth(this.canvasWidth),this.canvas.setHeight(this.canvasWidth)):(this.canvas.setWidth(.8*this.canvasHeight),this.canvas.setHeight(.8*this.canvasHeight))},onChange:function(e){this.Uploaded=!0,this.loadImg(e.content)},loadImg:function(e){var n=this;b["fabric"].Image.fromURL(e,(function(e){e.lockRotation=!0,e.set({transparentCorners:!1,cornerColor:"#ff110094",borderColor:"#ff110094",cornerSize:16,cornerStyle:"circle",borderDashArray:[5,8]}),e.scale(n.canvas.width/e.width),n.canvas.add(e)})),this.uploadImgBtn=!1,this.showBtnBar=!0},addImg:function(e){if(!this.Uploaded)return Object(h["a"])("请先上传图片噢(oﾟvﾟ)ノ"),!1;var n=new b["fabric"].Image(e.target,{left:100,top:100,scaleX:.5,scaleY:.5});n.set({transparentCorners:!1,cornerColor:"#ff110094",borderColor:"#ff110094",cornerSize:16,padding:10,cornerStyle:"circle",borderDashArray:[5,8]}),this.canvas.add(n),this.canvas.renderAll()},reset:function(){for(var e=this.canvas.getObjects(),n=0;n<e.length;n++)this.canvas.remove(e[n]);this.Uploaded=!1,this.uploadImgBtn=!0,this.showBtnBar=!1},lockObj:function(){var e=this.canvas.getActiveObject();if(!e)return Object(h["a"])("先选一个要锁定的图片啦╰(￣ω￣ｏ)"),!1;e.lockMovementX=!0,e.lockMovementY=!0,e.lockRotation=!0,e.lockScalingX=!0,e.lockScalingY=!0,e.hasControls=!1,this.canvas.renderAll()},unlockObj:function(){var e=this.canvas.getActiveObject();if(!e)return Object(h["a"])("╰(￣ω￣ｏ)先选一个要解锁的图片啦"),!1;e.lockMovementX=!1,e.lockMovementY=!1,e.lockRotation=!1,e.lockScalingX=!1,e.lockScalingY=!1,e.hasControls=!0,this.canvas.renderAll()},removeObj:function(){var e=this.canvas.getActiveObject();if(!e)return Object(h["a"])("先选一个要删掉的图片啦╰(￣ω￣ｏ)"),!1;this.canvas.remove(e)},saveImg:function(){var e=this.canvas.toDataURL({format:"png"});this.saveImgUrl=e,this.saveShow=!0}}},y=w,O=(t("d969"),t("2877")),j=Object(O["a"])(y,c,o,!1,null,null,null),k=j.exports,C={name:"app",components:{Main:k}},S=C,I=(t("034f"),Object(O["a"])(S,r,s,!1,null,null,null)),B=I.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(B)}}).$mount("#app")},"85ec":function(e,n,t){},d969:function(e,n,t){"use strict";var a=t("0074"),i=t.n(a);i.a}});
//# sourceMappingURL=app.6e060faa.js.map